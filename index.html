<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Sudoku - 6x6 Puzzle Game</title>
    <link rel="stylesheet" href="./dist/output.css">
</head>
<body class="h-full bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 dark:from-gray-900 dark:via-purple-900 dark:to-indigo-900">
    
    <!-- Auth Modal (Production only) -->
    <div id="auth-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-fade-in">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-8 transform transition-all animate-slide-up">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white" id="auth-modal-title">Sign In</h2>
                <button id="close-auth-modal" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Sign In Form -->
            <form id="signin-form" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                    <input type="email" id="signin-email" required 
                        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white transition-all">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Password</label>
                    <input type="password" id="signin-password" required 
                        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white transition-all">
                </div>
                <button type="submit" class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105">
                    Sign In
                </button>
            </form>
            
            <!-- Sign Up Form -->
            <form id="signup-form" class="hidden space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Display Name</label>
                    <input type="text" id="signup-name" required 
                        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white transition-all">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                    <input type="email" id="signup-email" required 
                        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white transition-all">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Password</label>
                    <input type="password" id="signup-password" required 
                        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white transition-all">
                </div>
                <button type="submit" class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105">
                    Sign Up
                </button>
            </form>
            
            <!-- Divider -->
            <div class="relative my-6">
                <div class="absolute inset-0 flex items-center">
                    <div class="w-full border-t border-gray-300 dark:border-gray-600"></div>
                </div>
                <div class="relative flex justify-center text-sm">
                    <span class="px-2 bg-white dark:bg-gray-800 text-gray-500">OR</span>
                </div>
            </div>
            
            <!-- Google Sign In -->
            <button id="google-signin-btn" class="w-full flex items-center justify-center gap-3 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-white py-3 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-gray-600 transition-all">
                <svg class="w-5 h-5" viewBox="0 0 24 24">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Continue with Google
            </button>
            
            <!-- Toggle Form -->
            <div class="mt-6 text-center">
                <button id="toggle-auth-form" class="text-sm text-indigo-600 dark:text-indigo-400 hover:underline">
                    Don't have an account? Sign up
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu Toggle Button (Fixed Position) - Production only -->
    <button id="mobile-menu-toggle" class="prod-only lg:hidden fixed top-4 left-4 z-[60] p-3 bg-white dark:bg-gray-800 rounded-xl shadow-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-all active:scale-95">
        <svg class="w-6 h-6 text-gray-700 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
    </button>

    <!-- Mobile Sidebar Overlay - Production only -->
    <div id="sidebar-overlay" class="prod-only lg:hidden hidden fixed inset-0 bg-black bg-opacity-50 z-[45] transition-opacity"></div>

    <!-- Main Container -->
    <div class="min-h-screen h-screen flex flex-col lg:flex-row gap-4 md:gap-6 p-2 sm:p-4 lg:p-6 overflow-hidden">
        
        <!-- Sidebar - Dashboard & Stats (Production only) -->
        <aside id="dashboard-sidebar" class="prod-only fixed lg:relative top-0 left-0 h-full w-80 max-w-[85vw] lg:w-72 xl:w-80 flex-shrink-0 space-y-3 md:space-y-4 lg:space-y-3 overflow-y-auto bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 dark:from-gray-900 dark:via-purple-900 dark:to-indigo-900 lg:bg-none p-3 lg:p-0 transition-transform duration-300 ease-in-out z-[50] lg:z-auto">
            <!-- Close Button (Mobile Only) -->
            <button id="close-sidebar" class="lg:hidden absolute top-4 right-4 p-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all">
                <svg class="w-5 h-5 text-gray-700 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
            
            <!-- User Profile Card -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-3 lg:p-4">
                <div id="user-profile-guest" class="text-center">
                    <div class="w-16 h-16 md:w-20 md:h-20 mx-auto mb-3 md:mb-4 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl md:text-2xl font-bold">
                        ?
                    </div>
                    <h3 class="text-base md:text-lg font-semibold text-gray-900 dark:text-white mb-2">Guest Player</h3>
                    <button id="show-auth-btn" class="w-full mt-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-2 md:py-2.5 px-4 rounded-lg text-sm md:text-base font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all active:scale-95">
                        Sign In to Save Progress
                    </button>
                </div>
                
                <div id="user-profile-authenticated" class="hidden">
                    <div class="flex items-center gap-4 mb-4">
                        <div id="user-avatar" class="w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl font-bold">
                        </div>
                        <div class="flex-1">
                            <h3 id="user-display-name" class="text-lg font-semibold text-gray-900 dark:text-white"></h3>
                            <p id="user-email" class="text-sm text-gray-600 dark:text-gray-400"></p>
                        </div>
                    </div>
                    <button id="signout-btn" class="w-full mt-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 px-4 rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-gray-600 transition-all">
                        Sign Out
                    </button>
                </div>
            </div>
            
            <!-- Statistics Card -->
            <div id="stats-card" class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-3 lg:p-4 hidden">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                    Your Statistics
                </h3>
                
                <div class="space-y-2 md:space-y-3">
                    <div class="flex justify-between items-center p-2.5 md:p-3 bg-indigo-50 dark:bg-gray-700 rounded-lg">
                        <span class="text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300">Games Played</span>
                        <span id="stat-games-played" class="text-base md:text-lg font-bold text-indigo-600 dark:text-indigo-400">0</span>
                    </div>
                    <div class="flex justify-between items-center p-2.5 md:p-3 bg-green-50 dark:bg-gray-700 rounded-lg">
                        <span class="text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300">Games Won</span>
                        <span id="stat-games-won" class="text-base md:text-lg font-bold text-green-600 dark:text-green-400">0</span>
                    </div>
                    <div class="flex justify-between items-center p-2.5 md:p-3 bg-purple-50 dark:bg-gray-700 rounded-lg">
                        <span class="text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300">Win Rate</span>
                        <span id="stat-win-rate" class="text-base md:text-lg font-bold text-purple-600 dark:text-purple-400">0%</span>
                    </div>
                    <div class="flex justify-between items-center p-2.5 md:p-3 bg-yellow-50 dark:bg-gray-700 rounded-lg">
                        <span class="text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300">Current Streak</span>
                        <span id="stat-streak" class="text-base md:text-lg font-bold text-yellow-600 dark:text-yellow-400">0</span>
                    </div>
                </div>
                
                <div class="mt-4 lg:mt-3">
                    <h4 class="text-xs lg:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Best Times</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600 dark:text-gray-400">Easy:</span>
                            <span id="best-time-easy" class="font-semibold text-gray-900 dark:text-white">--:--</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600 dark:text-gray-400">Medium:</span>
                            <span id="best-time-medium" class="font-semibold text-gray-900 dark:text-white">--:--</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600 dark:text-gray-400">Hard:</span>
                            <span id="best-time-hard" class="font-semibold text-gray-900 dark:text-white">--:--</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Game History Card -->
            <div id="history-card" class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-3 lg:p-4 hidden">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Recent Games
                </h3>
                <div id="history-list" class="space-y-2 max-h-48 lg:max-h-40 overflow-y-auto">
                    <p class="text-sm text-gray-500 dark:text-gray-400 text-center py-4">No games played yet</p>
                </div>
            </div>
        </aside>

        <!-- Main Game Area -->
        <main class="flex-1 flex flex-col gap-2 lg:gap-3 overflow-hidden">
            <!-- Game Header -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-2 lg:p-3">
                <div class="flex flex-col sm:flex-row justify-between items-center gap-2 lg:gap-3">
                    <div class="text-center sm:text-left">
                        <h1 class="text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-1">
                            Mini Sudoku
                        </h1>
                        <p class="text-xs lg:text-sm text-gray-600 dark:text-gray-400">Fill the 6Ã—6 grid with numbers 1-6</p>
                    </div>
                    
                    <!-- Theme Toggle -->
                    <button id="theme-toggle" class="p-2 md:p-3 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all active:scale-95">
                        <svg id="theme-icon-light" class="w-5 h-5 md:w-6 md:h-6 text-gray-700 dark:text-gray-300 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                        <svg id="theme-icon-dark" class="w-5 h-5 md:w-6 md:h-6 text-gray-700 dark:text-gray-300 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Game Info Bar -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-2 lg:p-3">
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 lg:gap-3">
                    <div class="flex items-center justify-between p-2 lg:p-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-gray-700 dark:to-gray-700 rounded-lg">
                        <div class="w-full">
                            <span class="text-xs md:text-sm font-medium text-gray-600 dark:text-gray-400">Difficulty</span>
                            <select id="difficulty" class="block mt-1 w-full px-2 md:px-3 py-1.5 md:py-2 text-sm md:text-base bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 font-semibold text-gray-900 dark:text-white">
                    <option value="easy">Easy</option>
                    <option value="medium" selected>Medium</option>
                    <option value="hard">Hard</option>
                </select>
            </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-2 lg:p-3 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-gray-700 dark:to-gray-700 rounded-lg">
                        <div class="flex items-center gap-2 md:gap-3">
                            <svg class="w-6 h-6 md:w-8 md:h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <div>
                                <span class="block text-xs md:text-sm font-medium text-gray-600 dark:text-gray-400">Time</span>
                                <span id="timer" class="text-lg md:text-2xl font-bold text-blue-600 dark:text-blue-400">00:00</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-2 lg:p-3 bg-gradient-to-r from-red-50 to-orange-50 dark:from-gray-700 dark:to-gray-700 rounded-lg">
                        <div class="flex items-center gap-2 md:gap-3">
                            <svg class="w-6 h-6 md:w-8 md:h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <div>
                                <span class="block text-xs md:text-sm font-medium text-gray-600 dark:text-gray-400">Mistakes</span>
                                <span id="mistakes" class="text-lg md:text-2xl font-bold text-red-600 dark:text-red-400">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Game Play Area: 3-column on desktop (controls | board | keypad) -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-2 lg:p-4 flex-1 flex flex-col min-h-0">
                <div class="flex flex-col lg:flex-row gap-3 lg:gap-4 items-stretch justify-center flex-1 min-h-0">
                    
                    <!-- Left Column: Game Controls (Desktop) -->
                    <div class="w-full lg:flex-1 order-3 lg:order-1 flex items-center justify-center lg:min-h-0">
                        <div class="w-full max-w-[400px] lg:max-w-none bg-white dark:bg-gray-800 lg:bg-gradient-to-br lg:from-gray-50 lg:to-gray-100 dark:lg:from-gray-700 dark:lg:to-gray-800 rounded-xl lg:p-4">
                            <h3 class="hidden lg:block text-lg font-bold text-gray-900 dark:text-white mb-3 text-center">Game Controls</h3>
                            <div class="grid grid-cols-2 gap-2 lg:gap-3">
                                <button id="new-game-btn" class="py-3 lg:py-4 px-4 lg:px-6 text-sm lg:text-base bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg lg:rounded-xl font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 active:scale-95 shadow-lg flex items-center justify-center">
                                    ðŸŽ® New
                                </button>
                                <button id="check-btn" class="py-3 lg:py-4 px-4 lg:px-6 text-sm lg:text-base bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 border-2 border-indigo-600 dark:border-indigo-400 rounded-lg lg:rounded-xl font-semibold hover:bg-indigo-50 dark:hover:bg-gray-600 transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center">
                                    âœ“ Check
                                </button>
                                <button id="hint-btn" class="py-3 lg:py-4 px-4 lg:px-6 text-sm lg:text-base bg-white dark:bg-gray-700 text-green-600 dark:text-green-400 border-2 border-green-600 dark:border-green-400 rounded-lg lg:rounded-xl font-semibold hover:bg-green-50 dark:hover:bg-gray-600 transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center">
                                    ðŸ’¡ Hint
                                </button>
                                <button id="solve-btn" class="py-3 lg:py-4 px-4 lg:px-6 text-sm lg:text-base bg-white dark:bg-gray-700 text-orange-600 dark:text-orange-400 border-2 border-orange-600 dark:border-orange-400 rounded-lg lg:rounded-xl font-semibold hover:bg-orange-50 dark:hover:bg-gray-600 transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center">
                                    ðŸ”“ Solve
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Center Column: Sudoku Grid -->
                    <div class="w-full lg:w-auto order-1 lg:order-2 flex-shrink-0 flex items-center justify-center lg:flex-1 lg:max-w-[50%]">
                        <div id="sudoku-grid" class="grid grid-cols-6 gap-[2px] bg-gray-800 dark:bg-gray-600 p-[2px] rounded-lg mx-auto max-w-[min(400px,100%)] w-full lg:w-auto lg:h-full lg:max-h-full aspect-square">
                            <!-- Grid cells will be generated here -->
                        </div>
                    </div>

                    <!-- Right Column: Number Pad -->
                    <div class="w-full lg:flex-1 order-2 lg:order-3 flex items-center justify-center lg:min-h-0">
                        <div class="w-full max-w-[400px] lg:max-w-none bg-white dark:bg-gray-800 lg:bg-gradient-to-br lg:from-gray-50 lg:to-gray-100 dark:lg:from-gray-700 dark:lg:to-gray-800 rounded-xl lg:p-4">
                            <h3 class="hidden lg:block text-lg font-bold text-gray-900 dark:text-white mb-3 text-center">Number Pad</h3>
                            <div id="number-pad" class="grid grid-cols-7 lg:grid-cols-3 gap-2 lg:gap-3 max-w-[min(400px,100%)] lg:max-w-none mx-auto">
                                <!-- Row 1: 1, 2, 3 -->
                                <button data-number="1" class="number-btn aspect-square lg:aspect-auto lg:h-14 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 text-white text-lg lg:text-xl font-bold hover:from-indigo-600 hover:to-purple-700 transition-all transform hover:scale-105 active:scale-95 shadow-md flex items-center justify-center">1</button>
                                <button data-number="2" class="number-btn aspect-square lg:aspect-auto lg:h-14 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 text-white text-lg lg:text-xl font-bold hover:from-indigo-600 hover:to-purple-700 transition-all transform hover:scale-105 active:scale-95 shadow-md flex items-center justify-center">2</button>
                                <button data-number="3" class="number-btn aspect-square lg:aspect-auto lg:h-14 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 text-white text-lg lg:text-xl font-bold hover:from-indigo-600 hover:to-purple-700 transition-all transform hover:scale-105 active:scale-95 shadow-md flex items-center justify-center">3</button>
                                <!-- Row 2: 4, 5, 6 -->
                                <button data-number="4" class="number-btn aspect-square lg:aspect-auto lg:h-14 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 text-white text-lg lg:text-xl font-bold hover:from-indigo-600 hover:to-purple-700 transition-all transform hover:scale-105 active:scale-95 shadow-md flex items-center justify-center">4</button>
                                <button data-number="5" class="number-btn aspect-square lg:aspect-auto lg:h-14 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 text-white text-lg lg:text-xl font-bold hover:from-indigo-600 hover:to-purple-700 transition-all transform hover:scale-105 active:scale-95 shadow-md flex items-center justify-center">5</button>
                                <button data-number="6" class="number-btn aspect-square lg:aspect-auto lg:h-14 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 text-white text-lg lg:text-xl font-bold hover:from-indigo-600 hover:to-purple-700 transition-all transform hover:scale-105 active:scale-95 shadow-md flex items-center justify-center">6</button>
                                <!-- Row 3: Empty, X (centered), Empty -->
                                <div class="hidden lg:block"></div>
                                <button id="erase-btn" class="aspect-square lg:aspect-auto lg:h-14 rounded-lg bg-gradient-to-br from-red-500 to-pink-600 text-white text-lg lg:text-xl font-bold hover:from-red-600 hover:to-pink-700 transition-all transform hover:scale-105 active:scale-95 shadow-md flex items-center justify-center">
                                    <svg class="w-6 h-6 lg:w-8 lg:h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                </button>
                                <div class="hidden lg:block"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- How to Play -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-3 lg:p-4 lg:hidden">
                <h3 class="text-lg md:text-xl font-bold text-gray-900 dark:text-white mb-3 md:mb-4 flex items-center gap-2">
                    <svg class="w-5 h-5 md:w-6 md:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    How to Play
                </h3>
                <ul class="space-y-2 text-sm md:text-base text-gray-600 dark:text-gray-400">
                    <li class="flex items-start gap-2">
                        <svg class="w-4 h-4 md:w-5 md:h-5 text-green-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        Fill each row with numbers 1-6 (no repeats)
                    </li>
                    <li class="flex items-start gap-2">
                        <svg class="w-4 h-4 md:w-5 md:h-5 text-green-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        Fill each column with numbers 1-6 (no repeats)
                    </li>
                    <li class="flex items-start gap-2">
                        <svg class="w-4 h-4 md:w-5 md:h-5 text-green-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        Fill each 2Ã—3 box with numbers 1-6 (no repeats)
                    </li>
            </ul>
        </div>
        </main>
    </div>

    <!-- Victory Modal -->
    <div id="victory-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-fade-in">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-8 text-center transform transition-all animate-slide-up">
            <div class="mb-6">
                <div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-green-400 to-emerald-600 rounded-full flex items-center justify-center">
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                </div>
                <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">Congratulations!</h2>
                <p class="text-gray-600 dark:text-gray-400">You solved the puzzle!</p>
        </div>

            <div class="bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-gray-700 dark:to-gray-700 rounded-xl p-6 mb-6">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Time</p>
                        <p id="final-time" class="text-2xl font-bold text-indigo-600 dark:text-indigo-400">00:00</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Mistakes</p>
                        <p id="final-mistakes" class="text-2xl font-bold text-red-600 dark:text-red-400">0</p>
                    </div>
                </div>
            </div>
            
            <button id="play-again-btn" class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105">
                Play Again
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="sudoku.js"></script>
    <script type="module" src="toast.js"></script>
    <script type="module" src="auth.js"></script>
    <script type="module" src="app.js"></script>
    
    <!-- Mode Configuration Script - UI Adjustments -->
    <script type="module">
        // Set APP_MODE from environment and apply UI changes
        window.APP_MODE = import.meta.env.VITE_APP_MODE || 'dev';
        const isDev = window.APP_MODE === 'dev';
        console.log(isDev ? 'ðŸ”§ Running in DEV mode' : 'ðŸš€ Running in PRODUCTION mode');
            
        
        if (isDev) {
            // Dev mode: Show only game section, full screen
            console.log('ðŸ“± Dev Mode: Optimizing for full-screen game experience');
            
            // Hide all production-only elements
            document.querySelectorAll('.prod-only').forEach(el => {
                el.style.display = 'none';
            });
            
            // Hide auth modal
            const authModal = document.getElementById('auth-modal');
            if (authModal) authModal.style.display = 'none';
            
            // Get the main container and main game area
            const mainContainer = document.querySelector('.min-h-screen.flex');
            const mainArea = document.querySelector('main');
            const sidebar = document.getElementById('dashboard-sidebar');
            
            // Hide sidebar completely
            if (sidebar) {
                sidebar.style.display = 'none';
            }
            
            // Make main container full screen
            if (mainContainer) {
                mainContainer.style.display = 'flex';
                mainContainer.style.flexDirection = 'column';
                mainContainer.style.padding = '0';
                mainContainer.style.gap = '0';
                mainContainer.style.height = '100vh';
                mainContainer.style.overflow = 'hidden';
            }
            
            // Make main game area take full screen
            if (mainArea) {
                mainArea.style.maxWidth = '100%';
                mainArea.style.width = '100%';
                mainArea.style.height = '100vh';
                mainArea.style.margin = '0';
                mainArea.style.padding = '1rem';
                mainArea.style.overflow = 'auto';
                mainArea.style.display = 'flex';
                mainArea.style.flexDirection = 'column';
                mainArea.style.justifyContent = 'center';
            }
        } else {
            // Production mode: Show all features
            console.log('ðŸ“± Production Mode: Full dashboard enabled');
        }
    </script>
    
    <!-- Mobile Sidebar Toggle Script (Production only) -->
    <script>
        // Only initialize sidebar toggle in production mode
        if (window.APP_MODE === 'production') {
            // Mobile sidebar toggle functionality
            const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
            const closeSidebar = document.getElementById('close-sidebar');
            const dashboardSidebar = document.getElementById('dashboard-sidebar');
            const sidebarOverlay = document.getElementById('sidebar-overlay');
            
            let sidebarOpen = false;

            function openSidebar() {
                if (window.innerWidth < 1024) { // Only on mobile
                    dashboardSidebar.style.transform = 'translateX(0)';
                    sidebarOverlay.classList.remove('hidden');
                    document.body.style.overflow = 'hidden';
                    sidebarOpen = true;
                }
            }

            function closeSidebarFunc() {
                if (window.innerWidth < 1024) { // Only on mobile
                    dashboardSidebar.style.transform = 'translateX(-100%)';
                    sidebarOverlay.classList.add('hidden');
                    document.body.style.overflow = '';
                    sidebarOpen = false;
                }
            }

            // Initialize sidebar state based on screen size
            function initSidebar() {
                if (window.innerWidth >= 1024) { // Desktop
                    dashboardSidebar.style.transform = ''; // Remove inline style, let CSS handle it
                    document.body.style.overflow = '';
                    sidebarOverlay.classList.add('hidden');
                    sidebarOpen = false;
                } else { // Mobile
                    dashboardSidebar.style.transform = 'translateX(-100%)';
                    sidebarOverlay.classList.add('hidden');
                    sidebarOpen = false;
                }
            }

            // Open sidebar
            mobileMenuToggle.addEventListener('click', openSidebar);
            
            // Close sidebar
            closeSidebar.addEventListener('click', closeSidebarFunc);
            sidebarOverlay.addEventListener('click', closeSidebarFunc);

            // Close sidebar on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && sidebarOpen) {
                    closeSidebarFunc();
                }
            });

            // Initialize on page load
            initSidebar();
            
            // Handle window resize
            window.addEventListener('resize', initSidebar);
        }
    </script>
</body>
</html>
